<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./goodmenu-map/public/favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"
    />
    <link rel="stylesheet" href="styles.css">
    <title>충맛집 - 충대인의 밥 선택 해결</title>

    <script
      src="https://kit.fontawesome.com/b7507b22be.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="./goodmenu-map/public/bootstrap4/css/bootstrap.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <script
      type="text/javascript"
      src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=93gqruosnz"
    ></script>
    <script type="text/javascript" src="/goodmenu-map/src/MarkerClustering.js"></script>

    <style>
      body {
        display: flex;
        margin: 0;
      }
      #sidebar {
        width: 4.5rem;
        height: 100vh;
        background-color: #f8f9fa;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      #mapContainer {
        position: relative;
        width: 100%;
        height: 100vh;
        overflow: hidden;
      }

      #searchBox {
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        background-color: white;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      #map {
        width: 100%;
        height: calc(100vh - 40px);
      }

      #toggleBtn {
        width: 50px;
        height: 50px;
        background-color: lightgreen;
        border: none;
        border-radius: 50%;
        font-size: 30px;
        line-height: 40px;
        cursor: pointer;
        position: fixed;
        bottom: 10px;
        left: calc(50% - 25px);
        transition: background-color 0.3s ease, bottom 0.5s ease;
      }

      #toggleBtn:hover {
        background-color: lightyellow;
      }

      .container-column {
        width: 33.333%;
        height: 200px;
        background-color: lightblue;
        position: fixed;
        left: 0;
        transition: bottom 0.5s ease, transform 0.5s ease;
        text-align: center;
        overflow: auto;
      }

      .sidenav {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 4.5rem; /* Adjusted to appear next to the sidebar */
        background-color: #f5f8f5f1;
        overflow-x: hidden;
        transition: 0.5s;
        padding-top: 60px;
      }

      .sidenav a {
        padding: 8px 8px 8px 32px;
        text-decoration: none;
        font-size: 25px;
        color: #000000;
        display: block;
        transition: 0.3s;
      }

      .sidenav a:hover {
        color: #3c8fb9;
      }

      .sidenav .closebtn {
        position: absolute;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
      }
      @media screen and (max-height: 450px) {
        .sidenav {
          padding-top: 15px;
        }
        .sidenav a {
          font-size: 18px;
        }
      }
    </style>
    <!-- <link href="sidebars.css" rel="stylesheet" /> -->
  </head>
  <body>
    <div class="b-example-divider b-example-vr"></div>
    <!-- ? -->
    <div
      class="d-flex flex-column flex-shrink-0 bg-body-tertiary"
      style="width: 4.5rem"
    >
      <a
        href="#"
        class="d-block p-3 link-body-emphasis text-decoration-none"
        title="CBNU"
        data-bs-toggle="tooltip"
        data-bs-placement="right"
      >
        <img
          src="https://i.imgur.com/3XbMneV.png"
          alt="Icon"
          width="50"
          height="50"
        />
        <span class="visually-hidden">Icon-only</span>
      </a>
      <ul class="nav nav-pills nav-flush flex-column mb-auto text-center">
        <li class="nav-item">
          <a
            href="./index.html"
            class="nav-link active py-3 border-bottom rounded-0"
            aria-current="page"
            title="Home"
            data-bs-toggle="tooltip"
            data-bs-placement="right"
          >
            <i class="fa-solid fa-house fa-xl"></i>
          </a>
        </li>
        <!-- search -->
        <li>
          <a
            href="#"
            class="nav-link py-3 border-bottom rounded-0"
            title="search"
            data-bs-toggle="modal"
            data-bs-target="#searchModal"
          >
            <i class="fa-solid fa-magnifying-glass fa-lg"></i>
          </a>
        </li>
        <!--- school information --->
        <li>
          <a
            href="./"
            class="nav-link py-3 border-bottom rounded-0"
            title="Customers"
            data-bs-toggle="tooltip"
            data-bs-placement="add information"
            onclick="toggleNav('add information')"
          >
            <i class="fa-solid fa-school-flag fa-lg"></i>
          </a>
        </li>
        <!-- stars -->
        <li>
          <a
            href="#"
            class="nav-link py-3 border-bottom rounded-0"
            title="Stars"
            data-bs-toggle="tooltip"
            data-bs-target="mySidenav"
            onclick="toggleNav('mySidenav')"
          >
            <i class="fa-solid fa-star fa-lg"></i>
          </a>
        </li>
        <!--- random --->
        <li>
          <a
            href="#"
            class="nav-link py-3 border-bottom rounded-0"
            title="Products"
            data-bs-toggle="tooltip"
            data-bs-placement="right"
          >
            <i class="fa-solid fa-shuffle fa-lg"></i>
          </a>
        </li>
      </ul>
    </div>
    <!-- Modal -->
    <div
      class="modal fade"
      id="searchModal"
      tabindex="-1"
      aria-labelledby="searchModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <div class="container-fluid">
              <form class="d-flex">
                <input
                  class="form-control me-2"
                  type="search"
                  placeholder="Search"
                  aria-label="Search"
                  id="searchInput"
                />
                <button
                  class="btn btn-outline-success"
                  id="searchBtn"
                  type="button"
                >
                  <i class="fa-solid fa-magnifying-glass fa-lg"></i>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- add information-->
    <div id="add information" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="toggleNav('mySidenav')"
        >&times;</a
      >
      <a href="#">About</a>
      <a href="#">S</a>
      <a href="#">Clients</a>
      <a href="#">Contact</a>
    </div>

    <!-- mySidenav -->
    <div id="mySidenav" class="sidenav">
      <a
        href="javascript:void(0)"
        class="closebtn"
        onclick="toggleNav('mySidenav')"
        >&times;</a
      >
      <a href="#">About</a>
      <a href="#">Services</a>
      <a href="#">Clients</a>
      <a href="#">Contact</a>
    </div>
    <!-- shuffle -->

    <!-- mapContainer -->
    <div id="mapContainer">
      <div id="map"></div>
    </div>
    <div id="category-filter">
      <button onclick="filterMarkers('전체')">전체</button>
      <button onclick="filterMarkers('서문')">서문</button>
      <button onclick="filterMarkers('중문')">중문</button>
      <button onclick="filterMarkers('정문')">정문</button>
      <button onclick="filterMarkers('후문')">후문</button>
      <button onclick="filterMarkers('교내시설')">교내시설</button>
    </div>
    <script>
      var map = new naver.maps.Map("map", {
            zoom: 6,
            center: new naver.maps.LatLng(36.2253017, 127.6460516)
        });
  
        var markers = data;	// Array
  
        var htmlMarker1 = {
                content: '<div style="cursor:pointer;width:40px;height:40px;line-height:42px;font-size:10px;color:white;text-align:center;font-weight:bold;background:url(/goodmenu-map/public/image/cluster-marker-1.png);background-size:contain;"></div>',
                size: N.Size(40, 40),
                anchor: N.Point(20, 20)
            },
            htmlMarker2 = {
                content: '<div style="cursor:pointer;width:40px;height:40px;line-height:42px;font-size:10px;color:white;text-align:center;font-weight:bold;background:url(/goodmenu-map/public/image/cluster-marker-2.png);background-size:contain;"></div>',
                size: N.Size(40, 40),
                anchor: N.Point(20, 20)
            },
            htmlMarker3 = {
                content: '<div style="cursor:pointer;width:40px;height:40px;line-height:42px;font-size:10px;color:white;text-align:center;font-weight:bold;background:url(/goodmenu-map/public/image/cluster-marker-3.png);background-size:contain;"></div>',
                size: N.Size(40, 40),
                anchor: N.Point(20, 20)
            },
            htmlMarker4 = {
                content: '<div style="cursor:pointer;width:40px;height:40px;line-height:42px;font-size:10px;color:white;text-align:center;font-weight:bold;background:url(/goodmenu-map/public/image/cluster-marker-4.png);background-size:contain;"></div>',
                size: N.Size(40, 40),
                anchor: N.Point(20, 20)
            },
            htmlMarker5 = {
                content: '<div style="cursor:pointer;width:40px;height:40px;line-height:42px;font-size:10px;color:white;text-align:center;font-weight:bold;background:url(/goodmenu-map/public/image/cluster-marker-5.png);background-size:contain;"></div>',
                size: N.Size(40, 40),
                anchor: N.Point(20, 20)
            };
  
        var markerClustering = new MarkerClustering({
            minClusterSize: 2,
            maxZoom: 13,
            map: map,
            markers: markers,
            disableClickZoom: false,
            gridSize: 120,
            icons: [htmlMarker1, htmlMarker2, htmlMarker3, htmlMarker4, htmlMarker5],
            indexGenerator: [10, 100, 200, 500, 1000],
            stylingFunction: function(clusterMarker, count) {
                $(clusterMarker.getElement()).find('div:first-child').text(count);
            }
        });
    </script>
    <script src="script.js"></script>
    <script src="navbar.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>